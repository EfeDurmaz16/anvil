       IDENTIFICATION DIVISION.
       PROGRAM-ID. FILE-PROCESSING.
       ENVIRONMENT DIVISION.
       INPUT-OUTPUT SECTION.
       FILE-CONTROL.
           SELECT INPUT-FILE ASSIGN TO "input.dat"
               ORGANIZATION IS LINE SEQUENTIAL.
           SELECT OUTPUT-FILE ASSIGN TO "output.dat"
               ORGANIZATION IS LINE SEQUENTIAL.
       DATA DIVISION.
       FILE SECTION.
       FD INPUT-FILE.
       01 INPUT-RECORD PIC X(80).
       FD OUTPUT-FILE.
       01 OUTPUT-RECORD PIC X(80).
       WORKING-STORAGE SECTION.
       01 WS-EOF PIC X VALUE 'N'.
       PROCEDURE DIVISION.
       MAIN-PARAGRAPH.
           OPEN INPUT INPUT-FILE.
           OPEN OUTPUT OUTPUT-FILE.
           PERFORM READ-WRITE-LOOP UNTIL WS-EOF = 'Y'.
           CLOSE INPUT-FILE.
           CLOSE OUTPUT-FILE.
           STOP RUN.
       READ-WRITE-LOOP.
           READ INPUT-FILE INTO INPUT-RECORD
               AT END MOVE 'Y' TO WS-EOF
               NOT AT END PERFORM PROCESS-RECORD.
       PROCESS-RECORD.
           MOVE INPUT-RECORD TO OUTPUT-RECORD.
           WRITE OUTPUT-RECORD.
           DISPLAY "PROCESSED: " INPUT-RECORD.
